{"version":3,"sources":["Store/booksReducer.ts","Route/BooksItemPage/BooksItemPage.tsx","Components/ContentItem/ContentItem.tsx","Components/Content/Content.tsx","Components/FormSearch/FormSearch.tsx","Components/Home/Home.tsx","Components/Loader/Loader.tsx","Store/index.ts","Route/Main/Main.tsx","App.tsx","index.tsx"],"names":["BooksActionTypes","BooksItemPage","state","useLocation","console","log","description","history","useHistory","undefined","push","className","src","img","alt","title","authors","map","el","categories","onClick","id","ContentItem","Contens","booksItems","books","volumeInfo","imageLinks","thumbnail","to","pathname","React","memo","FormSearch","selectHandler","value","inputHandler","getBooks","ref","useRef","useEffect","current","focus","onSubmit","action","onChange","type","placeholder","name","Home","Loader","initialState","loading","error","reducer","combineReducers","FETCH__BOOKS","FETCH__BOOKS__SUCCESS","payload","FETCH__BOOKS__ERROR","store","createStore","composeWithDevTools","useTypeSelector","useSelector","Main","useState","query","setQuery","select","setSelect","dispatch","useDispatch","e","target","a","preventDefault","fetch","then","response","json","arrBooks","items","filter","length","catch","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9d404d7b.chunk.js","sourcesContent":["\r\ninterface StateBooks {\r\n    books: any[],\r\n    loading: boolean,\r\n    error: null | string\r\n}\r\n\r\n// interface для action.type\r\n\r\nenum BooksActionTypes {\r\n    FETCH__BOOKS = \"FETCH__BOOKS\",\r\n    FETCH__BOOKS__SUCCESS = \"FETCH__BOOKS__SUCCESS\",\r\n    FETCH__BOOKS__ERROR = \"FETCH__BOOKS__ERROR\"\r\n}\r\n\r\ninterface FetchBooksAction {\r\n    type: BooksActionTypes.FETCH__BOOKS;\r\n}\r\n\r\ninterface FetchBooksSuccessAction {\r\n    type: BooksActionTypes.FETCH__BOOKS__SUCCESS;\r\n    payload: any[]\r\n}\r\n\r\ninterface FetchBooksErrorAction {\r\n    type: BooksActionTypes.FETCH__BOOKS__ERROR;\r\n    payload:  string\r\n}\r\n\r\n// \r\n\r\nconst initialState: StateBooks = {\r\n    books: [],\r\n    loading: false,\r\n    error: null \r\n}\r\n\r\ntype BooksAction = FetchBooksAction | FetchBooksSuccessAction | FetchBooksErrorAction\r\n\r\nexport const booksReducer = (state = initialState, action: BooksAction): StateBooks => {\r\n    switch (action.type) {\r\n        case BooksActionTypes.FETCH__BOOKS:\r\n            return {loading: true, error: null, books: []}\r\n        case BooksActionTypes.FETCH__BOOKS__SUCCESS:\r\n                return {loading: false, error: null, books: action.payload}\r\n        case BooksActionTypes.FETCH__BOOKS__ERROR:\r\n            return {loading: false, error: action.payload, books: []}\r\n        default:\r\n            return state\r\n    }\r\n}","import React, { FC } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { IBook } from '../../types';\r\nimport \"./BooksItemPage.sass\"\r\n\r\n\r\nconst BooksItemPage:FC = () => {\r\n    const {state} = useLocation<IBook>()\r\n    console.log(state.description);\r\n    \r\n    const history = useHistory()\r\n\r\n    function goHome() {\r\n        history.push(\"/Books\")\r\n    }\r\n\r\n    if (state === undefined) {\r\n        history.push(\"/Books\");\r\n    }\r\n\r\n\r\n    return (\r\n        <section key={state.id} className=\"item\">\r\n            <div className=\"container\">\r\n                <div className=\"item-block\">\r\n                    <img className=\"item__img\" src={state.img} alt={state.title} />\r\n                    <h3 className=\"item__title\">\r\n                        Название: {state.title}\r\n                    </h3>\r\n                    <p className=\"item__authors\">Автор: {state.authors.map(el => <span className=\"item__categories-item\">{el} </span>)}</p>    \r\n                    <p className=\"item__categories\">Жанр: {state.categories.map(el => <span className=\"item__categories-item\">{el}</span>)}</p>\r\n                    <p className=\"item__text\">Описание: {state.description}</p>\r\n                    <button className=\"item__btn\" onClick={goHome}>На главную</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default BooksItemPage\r\n","import React, { FC } from 'react'\r\nimport { IBook } from '../../types'\r\nimport \"./ContentItem.sass\"\r\n\r\n\r\nconst ContentItem:FC<IBook> = ({ img, title, authors, categories }) => {\r\n    \r\n    return (\r\n        <li className=\"content__item\">\r\n            <div className=\"content__header\">\r\n                <img className=\"content__img\" src={img} alt={img} />\r\n                <h3 className=\"content__title\">{title}</h3>\r\n            </div>\r\n            <div className=\"content__footer\">\r\n                {authors.map(el => <p>- {el}</p>)}\r\n                <p>{categories[0]}</p>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ContentItem\r\n","import React, { FC } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { IBook } from '../../types';\r\nimport ContentItem from '../ContentItem/ContentItem'\r\nimport \"./Content.sass\"\r\n\r\n\r\ninterface IContensProps {\r\n    books: any[]\r\n}\r\n\r\n\r\nconst Contens: FC<IContensProps> = ({books}) => {\r\n    \r\n    const booksItems:IBook[] = books.map(el => ({\r\n        id: el.id,\r\n        title: el.volumeInfo.title,\r\n        categories: el.volumeInfo.categories,\r\n        authors: [...el.volumeInfo.authors],\r\n        img: el.volumeInfo.imageLinks.thumbnail,\r\n        description: el.volumeInfo.description\r\n    }));\r\n\r\n    console.log(booksItems);\r\n    \r\n    \r\n    \r\n    return (\r\n        <section className=\"content\">\r\n            <div className=\"container\">\r\n                <ul className=\"content__list\">\r\n                    {booksItems.map(el => \r\n                        <Link key={el.id} to={{pathname: `/Books/:${el.id}`, state:{...el}}}>\r\n                            <ContentItem  categories={el.categories} img={el.img} authors={el.authors} title={el.title}/>\r\n                        </Link> )}\r\n                </ul>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default React.memo(Contens)\r\n","import React, { FC, useEffect, useRef } from 'react'\r\nimport \"./FormSearch.sass\"\r\n\r\n\r\ninterface IFormSearchProps {\r\n    value: string\r\n    inputHandler(e: React.ChangeEvent<HTMLInputElement>): void\r\n    getBooks(e: React.MouseEvent<HTMLFormElement>): void\r\n    selectHandler(e: React.ChangeEvent<HTMLSelectElement>): void\r\n}\r\n\r\nconst FormSearch:FC<IFormSearchProps> = ({ selectHandler, value, inputHandler, getBooks }) => {\r\n    const ref = useRef<HTMLInputElement | null>(null)\r\n\r\n    useEffect(()=>{\r\n        ref.current?.focus()\r\n    }, [])\r\n\r\n    return (\r\n        <section className=\"form\">\r\n            <div className=\"container\">\r\n                <form className=\"form-block\" onSubmit={getBooks} action=\"#\">\r\n                    <div className=\"form__header\">\r\n                        <input ref={ref} value={value} className=\"form__input\" onChange={inputHandler} type=\"text\" placeholder=\"Введите название книги\"/>\r\n                        <input className=\"form__submit\" type=\"submit\" value=\"Отправить\" />\r\n                    </div>\r\n                    <div className=\"form__footer\">\r\n                        <select className=\"form__select\" onChange={selectHandler} name=\"select\">\r\n                            <option value=\"\">All</option>\r\n                            <option value=\"history\">History</option>\r\n                            <option value=\"medical\">Medical</option>\r\n                            <option value=\"poetry\">Poetry</option>\r\n                        </select>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default FormSearch\r\n","import React, { FC } from 'react';\r\nimport \"./Home.sass\";\r\n\r\n\r\nconst Home:FC = () => {\r\n    return (\r\n        <section className=\"home\">\r\n            <div className=\"container\">\r\n                <div className=\"home-block\">\r\n                    <h1 className=\"home__title\">LitWare</h1>\r\n                    <p className=\"home__subtitle\">Найди нужную для тебя книгу</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React,  { FC } from 'react';\r\nimport \"./Loader.scss\"\r\n\r\nconst Loader:FC = () => {\r\n    return (\r\n        <div className=\"loader\">\r\n            <div className=\"lds-hourglass\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { combineReducers, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { booksReducer } from \"./booksReducer\";\r\n\r\nconst reducer = combineReducers({\r\n    books: booksReducer\r\n})\r\n\r\n\r\ntype RootState = ReturnType<typeof reducer>\r\n\r\nexport const store = createStore(reducer, composeWithDevTools()) \r\n\r\nexport const useTypeSelector: TypedUseSelectorHook<RootState> = useSelector","import React, { useState, ChangeEvent, FC, Fragment, MouseEvent } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport Content from '../../Components/Content/Content';\r\nimport FormSearch from '../../Components/FormSearch/FormSearch';\r\nimport Home from '../../Components/Home/Home';\r\nimport Loader from '../../Components/Loader/Loader';\r\nimport { useTypeSelector } from '../../Store';\r\nimport { IResponse } from '../../types';\r\n\r\nconst Main:FC = () => {\r\n\r\n    const [query, setQuery] = useState<string>(''),\r\n    [select, setSelect] = useState<string>(''),\r\n    dispatch = useDispatch(),\r\n    {books, loading} = useTypeSelector(state => state.books)\r\n\r\n    const selectHandler = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setSelect(e.target.value)\r\n    console.log(select);\r\n    }    \r\n\r\n    const inputHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setQuery(e.target.value);\r\n    }\r\n\r\n    const getBooks = async (e: MouseEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    if(query === '') {\r\n        return false\r\n    }\r\n    dispatch({type: \"FETCH__BOOKS\"})\r\n    fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}+subject:${select}&maxResults=40&key=AIzaSyAPjavbUjPoUoOSx6MvpGxeNbVfeRqxfj4`)\r\n    .then(response => response.json() as Promise<IResponse>)\r\n    .then(response => {\r\n        console.log(response);\r\n        const arrBooks = response.items.filter(el => el.volumeInfo.authors !== undefined && \r\n        el.volumeInfo.authors.length > 0 &&\r\n        el.volumeInfo.authors !== undefined && \r\n        el.id !== undefined && \r\n        el.volumeInfo.categories !== undefined &&\r\n        el.volumeInfo.imageLinks !== undefined &&\r\n        el.volumeInfo.description !== undefined)\r\n        dispatch({type: \"FETCH__BOOKS__SUCCESS\", payload: arrBooks})\r\n    })\r\n    .catch(error => dispatch({type: \"FetchBooksErrorAction\", payload: error}))\r\n    }\r\n\r\n    if (loading) {\r\n    return (<Fragment>\r\n                <FormSearch selectHandler={selectHandler} value={query} getBooks={getBooks} inputHandler={inputHandler}/>\r\n                <Loader/> \r\n            </Fragment>)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <FormSearch selectHandler={selectHandler}  value={query} getBooks={getBooks} inputHandler={inputHandler}/>\r\n            {books.length === 0 ? <Home/> : <Content books={books}/>}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import React, { FC } from 'react'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport BooksItemPage from './Route/BooksItemPage/BooksItemPage'\nimport Main from './Route/Main/Main'\n\nconst App:FC = () => {\n\n  \n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/Books\" exact component={Main}/>\n        <Route path={`/Books/:id`} exact component={BooksItemPage}/>\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport \"./index.sass\"\nimport { store } from './Store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}